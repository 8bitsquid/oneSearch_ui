<a href="https://github.com/ualibweb/oneSearch_ui/edit/master/src/app/common/one-search.js" class="improve-docs"><i class="icon-edit"> </i>Improve this doc</a><a href="https://github.com/ualibweb/oneSearch_ui/blob/9c80dbd/src/app/common/one-search.js#L119" class="view-source"><i class="icon-eye-open"> </i>View source</a><h1><code ng:non-bindable="">oneSearchProvider</code>
<div><span class="hint">service in module <code ng:non-bindable="">oneSearch</code>
</span>
</div>
</h1>
<div><h2 id="description">Description</h2>
<div class="description"><div class="onesearch-onesearchprovider-page"><p>This is the core of the oneSearch application.
Search engines (i.e., resources) use the oneSearch Provider to register as searchable.
This allows resources/engines to be easily plug-able and templated independent of each other.</p>
<p>The oneSearch Provider expects engines to register in the config phase.
Engines are registered using the Provider&#39;s engine(engine_name, params) function:
    engine_name: String - defines the identifier for the engine
    params: Object - defines details for querying the engine (see example below)</p>
</div></div>
<h2 id="dependencies">Dependencies</h2>
<ul class="dependencies"><li><code ng:non-bindable=""><a href="api/mediaTypesProvider">mediaTypesProvider</a></code>
</li>
</ul>
<div class="member method"><h2 id="methods">Methods</h2>
<ul class="methods"><li><a href="https://github.com/ualibweb/oneSearch_ui/blob/9c80dbd/src/app/common/one-search.js#L144" class="view-source icon-eye-open"> </a><h3 id="methods_engine">engine(name, engine)</h3>
<div class="engine"><h5 id="methods_engine_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>name</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="onesearch-onesearchprovider-engine-page"><p>Machine readable name of the engine being registered (e.g., no space or special characters)</p>
</div></td></tr><tr><td>engine</td><td><a href="" class="label type-hint type-hint-object">object</a></td><td><div class="onesearch-onesearchprovider-engine-page"><p>Then <code>engine</code> object. This tells oneSearch how to search and process results from each engine</p>
<p> Object properties:</p>
<ul>
<li><code>id</code> - <code>{integer|string}</code> - The id given to the backend JSON response handler that identifies the engine</li>
<li><code>title</code> - <code>{string=}</code> - <em>Optional</em> Title to be displayed in the template <em>(defaults to <code>name</code> parameter of <code>oneSearchProvider.engine(name, {})</code></em></li>
<li><code>priority</code> - <code>{integer=}</code> - <em>Optional</em> Weight determining request order of engines. Smaller (lighter) number float to the top and are loaded first <em>(defaults to <code>10</code>)</em></li>
<li><code>resultsPath</code> - <code>{string}</code> - String representing the JSON path to the search results from the API response (e.g., &quot;engine.path.to.results&quot;)</li>
<li><code>totalsPath</code> - <code>{string=}</code> - <em>Optional</em> String representing the JSON path to the <code>total results</code> object from API response</li>
<li><code>mediaTypes</code> - <code>{object=}</code> - <em>Optional</em> Configuration object to assign certain results to different <code>mediaTypes</code> (see @link oneSearch.mediaTypesProvider for details)</li>
<li><code>templateUrl</code> - <code>{string}</code> - File path to the engine&#39;s template. The template can either be a physical file or loaded into $templateCache <em>(template functions not yet supported)</em></li>
<li><code>filterQuery</code> - <code>{string}</code> - URL query string that will be appended to the engine request.</li>
<li><code>controller</code> - <code>{function|string}</code> - <em>Optional</em> Custom controller to control $scope of each engine. Will accept a function or the name of a defined controller</li>
</ul>
</div></td></tr></tbody></table></div>
</li>
</ul>
</div>
<h2 id="example">Example</h2>
<div class="example"><div class="onesearch-onesearchprovider-page"><pre class="prettyprint linenums">
angular.module('engines.googleCS', [])

   .config(['oneSearchProvider', function(oneSearchProvider){
      oneSearchProvider.engine('googleCS', {
          id: 16,
          title: 'Libraries\' Website',
          priority: 2,
          resultsPath: 'GoogleCS.items',
          totalsPath: 'GoogleCS.searchInformation.totalResults',
          filterQuery: '-site:guides.lib.ua.edu -site:ask.lib.ua.edu',
          templateUrl: 'common/engines/google-cs/google-cs.tpl.html',
          controller: 'GoogleCsCtrl'
      })
    }])

    .controller(['$scope', function($scope){
      var items = $scope.items; // Grab the result items from controller $scope to manipulate
    })
</pre>
</div></div>
</div>
